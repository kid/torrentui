<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= content_for?(:title) ? yield(:title) : "Torrentui" %></title>
    <%= csrf_meta_tags %>

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->

    <%= stylesheet_link_tag "application", :media => "all" %>

    <link href="images/apple-touch-icon.png" rel="apple-touch-icon">
    <link href="images/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72">
    <link href="images/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114">
    <style>
      body {
        margin-top: 60px;
      }
    </style>
  </head>
  <body>

    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-target=".nav-collapse" data-toggle="collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="/">Torrentui</a>
          <div class="pull-right">
            <a href="#new-torrent-dialog" data-toggle="modal" class="btn">New torrent</a>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <% flash.each do |name, msg| %>
      <div class="alert alert-<%= name == :notice ? "success" : "error" %>">
        <a class="close" data-dismiss="alert">x</a>
        <%= msg %>
      </div>
      <% end %>

      <div class="row-fluid">
        <div class="span12">
          <%= yield %>
        </div>
      </div><!--/row-->

    </div> <!-- /container -->

    <%- @torrent ||= Torrent.new %>
    <%= simple_form_for @torrent, :html => { :class => 'form-horizontal', :multipart => true } do |f| %>
    <div id="new-torrent-dialog" class="modal hide fade">
      <div class="modal-header">
        <button class="close" data-dismiss="modal">x</button>
        <h3>Add torrent(s)</h1>
      </div>
      <div class="modal-body">
        <fieldset>
          <div class="control-group required">
            <label class="required control-label required" for="torrent_file">File</label>
            <div class="controls">
              <input type="file" name="torrent[file]" id="torrent_file">
            </div>
          </div>
          
          <div class="control-group required">
            <label class="required control-label required" for="torrent_url">Url</label>
            <div class="controls">
              <input type="text" name="torrent[url]" id="torrent_url">
            </div>
          </div>
  
          <%= f.association :category %>
        </fieldset>
      </div>
      <div class="modal-footer">
        <%= f.submit nil, :class => 'btn btn-primary' %>
        <%= link_to t('.cancel', :default => t("helpers.links.cancel")), torrents_path, :class => 'btn' %>
      </div>
    </div>
    <% end %>
    
    <!-- Javascripts
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <%= javascript_include_tag "application" %>

  </body>
</html>
